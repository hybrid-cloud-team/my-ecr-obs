# obs/prometheus/deploy/kps.values.yaml

# (선택) Grafana는 이미 따로 쓰고 있으니 off
grafana:
  enabled: false

prometheus:
  prometheusSpec:
    replicas: 1

  # ✅ Prometheus UI Ingress (ALB)
  ingress:
    enabled: true
    ingressClassName: alb
    annotations:
      kubernetes.io/ingress.class: alb
      alb.ingress.kubernetes.io/scheme: internet-facing
      alb.ingress.kubernetes.io/target-type: ip
      alb.ingress.kubernetes.io/listen-ports: '[{"HTTP":80}]'
    paths:
      - /
    pathType: Prefix
    # hosts: []  # 도메인 있으면 ["prometheus.example.com"]

alertmanager:
  alertmanagerSpec:
    replicas: 1

  # ✅ Alertmanager UI Ingress (ALB)
  ingress:
    enabled: true
    ingressClassName: alb
    annotations:
      kubernetes.io/ingress.class: alb
      alb.ingress.kubernetes.io/scheme: internet-facing
      alb.ingress.kubernetes.io/target-type: ip
      alb.ingress.kubernetes.io/listen-ports: '[{"HTTP":80}]'
    paths:
      - /
    pathType: Prefix
