thanos:
  query:
    enabled: true
    # Bitnami 차트에서는 hostname 대신 hosts 리스트를 선호하는 경우가 많습니다.
    # 에러 방지를 위해 가장 안전한 구조로 변경합니다.
    ingress:
      enabled: true
      ingressClassName: "alb"
      # hostname: "*" 대신 아래와 같이 비워두거나 명시적으로 설정합니다.
      hostname: "thanos.example.com" 
      pathType: ImplementationSpecific
      annotations:
        alb.ingress.kubernetes.io/scheme: "internet-facing"
        alb.ingress.kubernetes.io/target-type: "ip"
        alb.ingress.kubernetes.io/group.name: "monitoring-alb-group"
        alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}]'

    dnsDiscovery:
      sidecarsService: "prometheus-stack-thanos-discovery"
      sidecarsNamespace: "monitoring"

  image:
    registry: "quay.io"
    repository: "thanos/thanos"
    tag: "v0.32.5"
